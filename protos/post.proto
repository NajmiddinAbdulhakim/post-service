syntax="proto3";

package user;

service PostService {
    rpc CreatePost(Post) returns (Post);
    rpc GetPostById(GetPostReq) returns (Post);
    rpc GetUserPosts(GetUserPostsReq) returns (GetUserPostsRes);
    rpc GetPostWithUser(GetPostReq) returns (GetUserWithPostRes);
}

message Post {
    string id =1;
    string user_id=2;
    string title = 3;
    string description = 4;
    repeated Media medias = 5;
}

message CreatePostRes {
    bool status=1;
}

message Media {
    string id =1;
    string post_id = 2;
    string link = 3;
    string type = 4;
} 

message GetUserPostsReq {
    string user_id =1;
}

message GetPostReq {
    string post_id = 1;
}

message GetUserPostsRes {
    repeated Post posts = 1;
}

message GetUserWithPostRes { 
    string first_name = 1;
    string last_name = 2;
    Post post = 3;
}
